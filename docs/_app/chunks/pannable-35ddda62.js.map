{"version":3,"file":"pannable-35ddda62.js","sources":["../../../../../src/lib/pannable.js"],"sourcesContent":["export function pannable(node) {\r\n\tlet x;\r\n\tlet y;\r\n\r\n\tfunction handleMousedown(event) {\r\n\t\tevent.stopPropagation();\r\n\t\tevent.preventDefault();\r\n\t\tconst c = event.touches ? event.touches[0] : event;\r\n\r\n\t\tx = c.clientX;\r\n\t\ty = c.clientY;\r\n\r\n\t\tnode.dispatchEvent(\r\n\t\t\tnew CustomEvent('panstart', {\r\n\t\t\t\tdetail: { x, y }\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\twindow.addEventListener('mousemove', handleMousemove);\r\n\t\twindow.addEventListener('mouseup', handleMouseup);\r\n\r\n\t\twindow.addEventListener('touchmove', handleMousemove);\r\n\t\twindow.addEventListener('touchend', handleMouseup);\r\n\t}\r\n\r\n\tfunction handleMousemove(event) {\r\n\t\tevent.preventDefault();\r\n\t\tconst c = event.touches ? event.touches[0] : event;\r\n\r\n\t\tconst dx = c.clientX - x;\r\n\t\tconst dy = c.clientY - y;\r\n\t\tx = c.clientX;\r\n\t\ty = c.clientY;\r\n\r\n\t\tnode.dispatchEvent(\r\n\t\t\tnew CustomEvent('panmove', {\r\n\t\t\t\tdetail: { x, y, dx, dy }\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tfunction handleMouseup(event) {\r\n\t\tx = event.clientX;\r\n\t\ty = event.clientY;\r\n\r\n\t\tnode.dispatchEvent(\r\n\t\t\tnew CustomEvent('panend', {\r\n\t\t\t\tdetail: { x, y }\r\n\t\t\t})\r\n\t\t);\r\n\r\n\t\twindow.removeEventListener('mousemove', handleMousemove);\r\n\t\twindow.removeEventListener('mouseup', handleMouseup);\r\n\r\n\t\twindow.removeEventListener('touchmove', handleMousemove);\r\n\t\twindow.removeEventListener('touchend', handleMouseup);\r\n\t}\r\n\r\n\tnode.addEventListener('mousedown', handleMousedown);\r\n\tnode.addEventListener('touchstart', handleMousedown);\r\n\r\n\treturn {\r\n\t\tdestroy() {\r\n\t\t\tnode.removeEventListener('mousedown', handleMousedown);\r\n\t\t\tnode.removeEventListener('touchstart', handleMousedown);\r\n\t\t}\r\n\t};\r\n}\r\n"],"names":[],"mappings":"AAAO,kBAAkB,MAAM;AAC9B,MAAI;AACJ,MAAI;AAEJ,2BAAyB,OAAO;AAC/B,UAAM,gBAAe;AACrB,UAAM,eAAc;AACpB,UAAM,IAAI,MAAM,UAAU,MAAM,QAAQ,KAAK;AAE7C,QAAI,EAAE;AACN,QAAI,EAAE;AAEN,SAAK,cACJ,IAAI,YAAY,YAAY;AAAA,MAC3B,QAAQ,EAAE,GAAG,EAAG;AAAA,IACpB,CAAI,CACJ;AAEE,WAAO,iBAAiB,aAAa,eAAe;AACpD,WAAO,iBAAiB,WAAW,aAAa;AAEhD,WAAO,iBAAiB,aAAa,eAAe;AACpD,WAAO,iBAAiB,YAAY,aAAa;AAAA,EACjD;AAED,2BAAyB,OAAO;AAC/B,UAAM,eAAc;AACpB,UAAM,IAAI,MAAM,UAAU,MAAM,QAAQ,KAAK;AAE7C,UAAM,KAAK,EAAE,UAAU;AACvB,UAAM,KAAK,EAAE,UAAU;AACvB,QAAI,EAAE;AACN,QAAI,EAAE;AAEN,SAAK,cACJ,IAAI,YAAY,WAAW;AAAA,MAC1B,QAAQ,EAAE,GAAG,GAAG,IAAI,GAAI;AAAA,IAC5B,CAAI,CACJ;AAAA,EACE;AAED,yBAAuB,OAAO;AAC7B,QAAI,MAAM;AACV,QAAI,MAAM;AAEV,SAAK,cACJ,IAAI,YAAY,UAAU;AAAA,MACzB,QAAQ,EAAE,GAAG,EAAG;AAAA,IACpB,CAAI,CACJ;AAEE,WAAO,oBAAoB,aAAa,eAAe;AACvD,WAAO,oBAAoB,WAAW,aAAa;AAEnD,WAAO,oBAAoB,aAAa,eAAe;AACvD,WAAO,oBAAoB,YAAY,aAAa;AAAA,EACpD;AAED,OAAK,iBAAiB,aAAa,eAAe;AAClD,OAAK,iBAAiB,cAAc,eAAe;AAEnD,SAAO;AAAA,IACN,UAAU;AACT,WAAK,oBAAoB,aAAa,eAAe;AACrD,WAAK,oBAAoB,cAAc,eAAe;AAAA,IACtD;AAAA,EACH;AACA;;"}