import{S as ee,i as te,s as ne,l as I,a as X,K as T,u as N,L as Ke,m as W,h as p,c as A,p as P,M as D,v as j,q as _,N as fe,J as w,b as O,n as H,o as ke,O as U,e as R,P as Qe,Q as Ve,R as ie,T as He,F as ae,r as B,G as ue,H as he,I as ce,f as C,t as S,g as F,d as G,x as Z,y as K,z as Q,C as J,U as re,V as oe,W as qe,w as V,X as Je,Y as xe}from"../chunks/index-c3f6a5b8.js";import{_ as $e}from"../chunks/preload-helper-8f298e01.js";const Ee=3;let x,se,_e,Me;const de=(s,e=console.debug)=>{const t=s();Array.isArray(t)?e(...t):e(t)};function et(s,e){s.addEventListener("mousedown",t),s.addEventListener("touchstart",t);function t(a){if(a.target!==a.currentTarget&&(a.target.value!==void 0||a.target.isContentEditable)){de(()=>"won't initiate drag on a nested input element");return}if(a.button){de(()=>`ignoring none left click button: ${a.button}`);return}if(Array.from(a.target.classList).includes("svlt-grid-resizer")){de(()=>"Don't connect while resizing");return}a.stopPropagation();const h=a.touches?a.touches[0]:a;se={x:h.clientX,y:h.clientY},x={...se},_e=a.currentTarget,n()}function n(){window.addEventListener("mousemove",i,{passive:!1}),window.addEventListener("touchmove",i,{passive:!1,capture:!1}),window.addEventListener("mouseup",f,{passive:!1}),window.addEventListener("touchend",f,{passive:!1})}function l(){window.removeEventListener("mousemove",i),window.removeEventListener("touchmove",i),window.removeEventListener("mouseup",f),window.removeEventListener("touchend",f)}function f(){l(),_e=void 0,se=void 0,x=void 0}function i(a){a.preventDefault();const h=a.touches?a.touches[0]:a;x={x:h.clientX,y:h.clientY},(Math.abs(x.x-se.x)>=Ee||Math.abs(x.y-se.y)>=Ee)&&(l(),r())}function r(){Me=_e.parentElement;const a=Me.getRootNode();a.body,window.addEventListener("mousemove",o,{passive:!1}),window.addEventListener("touchmove",o,{passive:!1,capture:!1}),window.addEventListener("mouseup",u,{passive:!1}),window.addEventListener("touchend",u,{passive:!1})}function o(a){a.preventDefault();const h=a.touches?a.touches[0]:a;x={x:h.clientX,y:h.clientY},s.dispatchEvent(new CustomEvent("connecting",{detail:{node:s,...x}}))}function u(a){console.log("dropped "),window.removeEventListener("mousemove",o),window.removeEventListener("touchmove",o),window.removeEventListener("mouseup",u),window.removeEventListener("touchend",u);const h=a.changedTouches;let g=h?document.elementFromPoint(h[0].clientX,h[0].clientY):a.target;s.dispatchEvent(new CustomEvent("connected",{detail:{target:g}}))}return{destroy(){}}}const ge=Math.PI,me=2*ge,$=1e-6,tt=me-$;function pe(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ye(){return new pe}pe.prototype=Ye.prototype={constructor:pe,moveTo:function(s,e){this._+="M"+(this._x0=this._x1=+s)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(s,e){this._+="L"+(this._x1=+s)+","+(this._y1=+e)},quadraticCurveTo:function(s,e,t,n){this._+="Q"+ +s+","+ +e+","+(this._x1=+t)+","+(this._y1=+n)},bezierCurveTo:function(s,e,t,n,l,f){this._+="C"+ +s+","+ +e+","+ +t+","+ +n+","+(this._x1=+l)+","+(this._y1=+f)},arcTo:function(s,e,t,n,l){s=+s,e=+e,t=+t,n=+n,l=+l;var f=this._x1,i=this._y1,r=t-s,o=n-e,u=f-s,a=i-e,h=u*u+a*a;if(l<0)throw new Error("negative radius: "+l);if(this._x1===null)this._+="M"+(this._x1=s)+","+(this._y1=e);else if(h>$)if(!(Math.abs(a*r-o*u)>$)||!l)this._+="L"+(this._x1=s)+","+(this._y1=e);else{var g=t-f,c=n-i,m=r*r+o*o,d=g*g+c*c,b=Math.sqrt(m),y=Math.sqrt(h),z=l*Math.tan((ge-Math.acos((m+h-d)/(2*b*y)))/2),v=z/y,k=z/b;Math.abs(v-1)>$&&(this._+="L"+(s+v*u)+","+(e+v*a)),this._+="A"+l+","+l+",0,0,"+ +(a*g>u*c)+","+(this._x1=s+k*r)+","+(this._y1=e+k*o)}},arc:function(s,e,t,n,l,f){s=+s,e=+e,t=+t,f=!!f;var i=t*Math.cos(n),r=t*Math.sin(n),o=s+i,u=e+r,a=1^f,h=f?n-l:l-n;if(t<0)throw new Error("negative radius: "+t);this._x1===null?this._+="M"+o+","+u:(Math.abs(this._x1-o)>$||Math.abs(this._y1-u)>$)&&(this._+="L"+o+","+u),t&&(h<0&&(h=h%me+me),h>tt?this._+="A"+t+","+t+",0,1,"+a+","+(s-i)+","+(e-r)+"A"+t+","+t+",0,1,"+a+","+(this._x1=o)+","+(this._y1=u):h>$&&(this._+="A"+t+","+t+",0,"+ +(h>=ge)+","+a+","+(this._x1=s+t*Math.cos(l))+","+(this._y1=e+t*Math.sin(l))))},rect:function(s,e,t,n){this._+="M"+(this._x0=this._x1=+s)+","+(this._y0=this._y1=+e)+"h"+ +t+"v"+ +n+"h"+-t+"Z"},toString:function(){return this._}};function Le(s){return function(){return s}}var nt=Array.prototype.slice;function it(s){return s[0]}function lt(s){return s[1]}class st{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function Ue(s){return new st(s,!0)}function rt(s){return s.source}function ot(s){return s.target}function Fe(s){let e=rt,t=ot,n=it,l=lt,f=null,i=null;function r(){let o;const u=nt.call(arguments),a=e.apply(this,u),h=t.apply(this,u);if(f==null&&(i=s(o=Ye())),i.lineStart(),u[0]=a,i.point(+n.apply(this,u),+l.apply(this,u)),u[0]=h,i.point(+n.apply(this,u),+l.apply(this,u)),i.lineEnd(),o)return i=null,o+""||null}return r.source=function(o){return arguments.length?(e=o,r):e},r.target=function(o){return arguments.length?(t=o,r):t},r.x=function(o){return arguments.length?(n=typeof o=="function"?o:Le(+o),r):n},r.y=function(o){return arguments.length?(l=typeof o=="function"?o:Le(+o),r):l},r.context=function(o){return arguments.length?(o==null?f=i=null:i=s(f=o),r):f},r}function Ce(s){let e,t;return{c(){e=T("g"),t=T("path"),this.h()},l(n){e=D(n,"g",{stroke:!0,"stroke-opacity":!0});var l=P(e);t=D(l,"path",{d:!0,id:!0,"stroke-width":!0,stroke:!0,fill:!0,"stroke-linecap":!0,"marker-mid":!0,style:!0}),P(t).forEach(p),l.forEach(p),this.h()},h(){_(t,"d",s[10]),_(t,"id","path1"),_(t,"stroke-width",s[3]),_(t,"stroke",s[2]),_(t,"fill","none"),_(t,"stroke-linecap","round"),_(t,"marker-mid","url(#triangle)"),_(t,"style",""),_(e,"stroke","red"),_(e,"stroke-opacity","0.9")},m(n,l){O(n,e,l),w(e,t)},p(n,l){l&1024&&_(t,"d",n[10]),l&8&&_(t,"stroke-width",n[3]),l&4&&_(t,"stroke",n[2])},d(n){n&&p(e)}}}function ft(s){let e,t,n,l,f,i,r,o,u,a,h,g,c,m,d=s[7]&&s[8]&&Ce(s);return{c(){e=I("link"),t=X(),n=I("span"),l=T("svg"),f=T("defs"),i=T("marker"),r=T("path"),d&&d.c(),o=T("text"),u=T("textPath"),a=T("tspan"),h=N("Curvy Connector"),g=X(),c=T("textPath"),m=N("\u27A4"),this.h()},l(b){const y=Ke('[data-svelte="svelte-1y2tnph"]',document.head);e=W(y,"LINK",{rel:!0,type:!0,href:!0}),y.forEach(p),t=A(b),n=W(b,"SPAN",{class:!0});var z=P(n);l=D(z,"svg",{width:!0,height:!0,class:!0});var v=P(l);f=D(v,"defs",{});var k=P(f);i=D(k,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerUnits:!0,markerWidth:!0,markerHeight:!0,orient:!0});var E=P(i);r=D(E,"path",{d:!0,fill:!0}),P(r).forEach(p),E.forEach(p),k.forEach(p),d&&d.l(v),o=D(v,"text",{class:!0});var M=P(o);u=D(M,"textPath",{"xlink:href":!0,startOffset:!0});var L=P(u);a=D(L,"tspan",{fill:!0,class:!0});var q=P(a);h=j(q,"Curvy Connector"),q.forEach(p),g=A(L),L.forEach(p),c=D(M,"textPath",{"xlink:href":!0,startOffset:!0,fill:!0});var Y=P(c);m=j(Y,"\u27A4"),Y.forEach(p),M.forEach(p),v.forEach(p),z.forEach(p),this.h()},h(){_(e,"rel","stylesheet"),_(e,"type","text/css"),_(e,"href","//fonts.googleapis.com/css?family=Luckiest+Guy"),_(r,"d","M 0 0 L 10 5 L 0 10 z"),_(r,"fill","context-stroke"),_(i,"id","triangle"),_(i,"viewBox","0 0 10 10"),_(i,"refX","1"),_(i,"refY","5"),_(i,"markerUnits","strokeWidth"),_(i,"markerWidth","4"),_(i,"markerHeight","3"),_(i,"orient","auto"),_(a,"fill","black"),_(a,"class","svelte-meogpt"),fe(u,"xlink:href","#path1"),_(u,"startOffset","20%"),fe(c,"xlink:href","#path1"),_(c,"startOffset",s[5]),_(c,"fill",s[4]),_(o,"class","svelte-meogpt"),_(l,"width",s[0]),_(l,"height",s[1]),_(l,"class","svelte-meogpt"),_(n,"class","svg-container svelte-meogpt")},m(b,y){w(document.head,e),O(b,t,y),O(b,n,y),w(n,l),w(l,f),w(f,i),w(i,r),d&&d.m(l,null),w(l,o),w(o,u),w(u,a),w(a,h),w(u,g),w(o,c),w(c,m),s[17](l),s[18](n)},p(b,[y]){b[7]&&b[8]?d?d.p(b,y):(d=Ce(b),d.c(),d.m(l,o)):d&&(d.d(1),d=null),y&32&&_(c,"startOffset",b[5]),y&16&&_(c,"fill",b[4]),y&1&&_(l,"width",b[0]),y&2&&_(l,"height",b[1])},i:H,o:H,d(b){p(e),b&&p(t),b&&p(n),d&&d.d(),s[17](null),s[18](null)}}}function at(s,e,t){let n,l,{target:f}=e,{source:i}=e,{width:r=500}=e,{height:o=500}=e,{strokeColor:u="green"}=e,{strokeWidth:a=3}=e,{arrowColor:h="green"}=e,{startOffset:g="60%"}=e,c;const m=Fe(Ue);let d,b,y,z,v,k;ke(()=>{t(13,b=!0)});function E(L){U[L?"unshift":"push"](()=>{d=L,t(9,d)})}function M(L){U[L?"unshift":"push"](()=>{c=L,t(6,c)})}return s.$$set=L=>{"target"in L&&t(11,f=L.target),"source"in L&&t(12,i=L.source),"width"in L&&t(0,r=L.width),"height"in L&&t(1,o=L.height),"strokeColor"in L&&t(2,u=L.strokeColor),"strokeWidth"in L&&t(3,a=L.strokeWidth),"arrowColor"in L&&t(4,h=L.arrowColor),"startOffset"in L&&t(5,g=L.startOffset)},s.$$.update=()=>{s.$$.dirty&12288&&b&&t(7,y=Math.floor(i.offsetLeft+i.clientWidth/2)),s.$$.dirty&12288&&b&&t(15,v=Math.floor(i.offsetTop+i.clientHeight/2)),s.$$.dirty&10304&&b&&t(14,z=Math.floor(f.offsetLeft+f.offsetWidth/2-c.getBoundingClientRect().x)),s.$$.dirty&10304&&b&&c&&t(8,k=Math.floor(f.offsetTop+f.offsetHeight/2-c.getBoundingClientRect().y)),s.$$.dirty&49536&&t(16,n={source:[y,v],target:[z,k]}),s.$$.dirty&65536&&t(10,l=m(n))},[r,o,u,a,h,g,c,y,k,d,l,f,i,b,z,v,n,E,M]}class ut extends ee{constructor(e){super(),te(this,e,at,ft,ne,{target:11,source:12,width:0,height:1,strokeColor:2,strokeWidth:3,arrowColor:4,startOffset:5})}}function Pe(s){let e,t,n,l,f,i;return{c(){e=I("div"),t=T("svg"),n=T("defs"),l=T("path"),this.h()},l(r){e=W(r,"DIV",{class:!0});var o=P(e);t=D(o,"svg",{width:!0,height:!0,xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var u=P(t);n=D(u,"defs",{}),P(n).forEach(p),l=D(u,"path",{fill:!0,d:!0}),P(l).forEach(p),u.forEach(p),o.forEach(p),this.h()},h(){_(l,"fill","currentColor"),_(l,"d","M352 426l-79 79c-9 9-25 9-34 0l-79-79c-15-15-5-41 17-41h51V284H127v51c0 22-26 32-41 17L7 273c-9-9-9-25 0-34l79-79c15-15 41-5 41 17v51h101V127h-51c-22 0-32-26-17-41l79-79c9-9 25-9 34 0l79 79c15 15 5 41-17 41h-51v101h101v-51c0-22 26-32 41-17l79 79c9 9 9 25 0 34l-79 79c-15 15-41 5-41-17v-51H284v101h51c22 0 32 26 17 41z"),_(t,"width","20"),_(t,"height","20"),_(t,"xmlns","http://www.w3.org/2000/svg"),_(t,"aria-hidden","true"),_(t,"class","svg-inline--fa fa-arrows-alt fa-w-16"),_(t,"data-icon","arrows-alt"),_(t,"data-prefix","fas"),_(t,"viewBox","0 0 512 512"),_(e,"class","dragger svelte-sndsc4")},m(r,o){O(r,e,o),w(e,t),w(t,n),w(t,l),f||(i=[Ve(s[0].call(null,e)),ie(e,"panmove",s[2]),ie(e,"panend",s[3]),ie(e,"panstart",s[1])],f=!0)},p:H,d(r){r&&p(e),f=!1,He(i)}}}function ht(s){let e,t=s[0]&&Pe(s);return{c(){t&&t.c(),e=R()},l(n){t&&t.l(n),e=R()},m(n,l){t&&t.m(n,l),O(n,e,l)},p(n,[l]){n[0]?t?t.p(n,l):(t=Pe(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){t&&t.d(n),n&&p(e)}}}function ct(s,e,t){let{node:n}=e,{mouseMoving:l=!1}=e;const f=Qe();let i;ke(async()=>{t(0,{pannable:i}=await $e(()=>import("../chunks/pannable-f08cd838.js"),[]),i)});function r(a){t(5,l=!0),f("resimulate","resimulate")}function o(a){t(5,l=!0),t(4,n.x=n.x+a.detail.dx,n),t(4,n.y=n.y+a.detail.dy,n),t(4,n)}function u(a){t(5,l=!1),t(4,n),f("resimulate","resimulate")}return s.$$set=a=>{"node"in a&&t(4,n=a.node),"mouseMoving"in a&&t(5,l=a.mouseMoving)},[i,r,o,u,n,l]}class Ge extends ee{constructor(e){super(),te(this,e,ct,ht,ne,{node:4,mouseMoving:5})}}function Oe(s){let e,t,n;return{c(){e=I("div"),this.h()},l(l){e=W(l,"DIV",{class:!0}),P(e).forEach(p),this.h()},h(){_(e,"class","svlt-grid-resizer svelte-1mqccif")},m(l,f){O(l,e,f),t||(n=ie(e,"pointerdown",s[6]),t=!0)},p:H,d(l){l&&p(e),t=!1,n()}}}function _t(s){let e,t,n;const l=s[9].default,f=ae(l,s,s[8],null);let i=s[0]&&Oe(s);return{c(){e=I("div"),f&&f.c(),t=X(),i&&i.c(),this.h()},l(r){e=W(r,"DIV",{class:!0,style:!0});var o=P(e);f&&f.l(o),t=A(o),i&&i.l(o),o.forEach(p),this.h()},h(){_(e,"class","resizable svelte-1mqccif"),B(e,"width",(s[5]?s[1].width:s[3])+"px"),B(e,"height",(s[5]?s[1].height:s[4])+"px")},m(r,o){O(r,e,o),f&&f.m(e,null),w(e,t),i&&i.m(e,null),s[10](e),n=!0},p(r,[o]){f&&f.p&&(!n||o&256)&&ue(f,l,r,r[8],n?ce(l,r[8],o,null):he(r[8]),null),r[0]?i?i.p(r,o):(i=Oe(r),i.c(),i.m(e,null)):i&&(i.d(1),i=null),(!n||o&42)&&B(e,"width",(r[5]?r[1].width:r[3])+"px"),(!n||o&50)&&B(e,"height",(r[5]?r[1].height:r[4])+"px")},i(r){n||(C(f,r),n=!0)},o(r){S(f,r),n=!1},d(r){r&&p(e),f&&f.d(r),i&&i.d(),s[10](null)}}}function dt(s,e,t){var z,v;let{$$slots:n={},$$scope:l}=e,f,{node:i}=e,{resizable:r=!0}=e,o=i.width||((z=f==null?void 0:f.parentNode)==null?void 0:z.offsetWidth)||100,u=i.height||((v=f==null?void 0:f.parentNode)==null?void 0:v.offsetheight)||100,a={width:o,height:u},h={width:0,height:0},g={x:0,y:0},c=!1;const m=k=>{k.stopPropagation();const{pageX:E,pageY:M}=k;g={x:E,y:M},h={width:o,height:u},t(1,a={width:o,height:u}),t(5,c=!0),window.addEventListener("pointermove",d),window.addEventListener("pointerup",b)},d=({pageX:k,pageY:E})=>{t(1,a.width=h.width+k-g.x,a),t(1,a.height=h.height+E-g.y,a)},b=k=>{k.stopPropagation(),t(3,o=a.width),t(4,u=a.height),t(5,c=!1),window.removeEventListener("pointermove",d),window.removeEventListener("pointerup",b)};function y(k){U[k?"unshift":"push"](()=>{f=k,t(2,f)})}return s.$$set=k=>{"node"in k&&t(7,i=k.node),"resizable"in k&&t(0,r=k.resizable),"$$scope"in k&&t(8,l=k.$$scope)},s.$$.update=()=>{s.$$.dirty&2&&t(7,i.width=a.width,i),s.$$.dirty&2&&t(7,i.height=a.height,i)},[r,a,f,o,u,c,m,i,l,n,y]}class gt extends ee{constructor(e){super(),te(this,e,dt,_t,ne,{node:7,resizable:0})}}function mt(s){let e;const t=s[11].default,n=ae(t,s,s[15],null);return{c(){n&&n.c()},l(l){n&&n.l(l)},m(l,f){n&&n.m(l,f),e=!0},p(l,f){n&&n.p&&(!e||f&32768)&&ue(n,t,l,l[15],e?ce(t,l[15],f,null):he(l[15]),null)},i(l){e||(C(n,l),e=!0)},o(l){S(n,l),e=!1},d(l){n&&n.d(l)}}}function pt(s){let e,t,n,l;function f(u){s[14](u)}let i={};s[0]!==void 0&&(i.node=s[0]),e=new Ge({props:i}),U.push(()=>re(e,"node",f));const r=s[11].default,o=ae(r,s,s[15],null);return{c(){Z(e.$$.fragment),n=X(),o&&o.c()},l(u){K(e.$$.fragment,u),n=A(u),o&&o.l(u)},m(u,a){Q(e,u,a),O(u,n,a),o&&o.m(u,a),l=!0},p(u,a){const h={};!t&&a&1&&(t=!0,h.node=u[0],oe(()=>t=!1)),e.$set(h),o&&o.p&&(!l||a&32768)&&ue(o,r,u,u[15],l?ce(r,u[15],a,null):he(u[15]),null)},i(u){l||(C(e.$$.fragment,u),C(o,u),l=!0)},o(u){S(e.$$.fragment,u),S(o,u),l=!1},d(u){J(e,u),u&&p(n),o&&o.d(u)}}}function kt(s){let e,t,n;function l(i){s[13](i)}let f={$$slots:{default:[vt]},$$scope:{ctx:s}};return s[0]!==void 0&&(f.node=s[0]),e=new gt({props:f}),U.push(()=>re(e,"node",l)),{c(){Z(e.$$.fragment)},l(i){K(e.$$.fragment,i)},m(i,r){Q(e,i,r),n=!0},p(i,r){const o={};r&32773&&(o.$$scope={dirty:r,ctx:i}),!t&&r&1&&(t=!0,o.node=i[0],oe(()=>t=!1)),e.$set(o)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Se(s){let e,t,n;function l(i){s[12](i)}let f={};return s[0]!==void 0&&(f.node=s[0]),e=new Ge({props:f}),U.push(()=>re(e,"node",l)),{c(){Z(e.$$.fragment)},l(i){K(e.$$.fragment,i)},m(i,r){Q(e,i,r),n=!0},p(i,r){const o={};!t&&r&1&&(t=!0,o.node=i[0],oe(()=>t=!1)),e.$set(o)},i(i){n||(C(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function vt(s){let e,t,n=s[2]&&Se(s);const l=s[11].default,f=ae(l,s,s[15],null);return{c(){n&&n.c(),e=X(),f&&f.c()},l(i){n&&n.l(i),e=A(i),f&&f.l(i)},m(i,r){n&&n.m(i,r),O(i,e,r),f&&f.m(i,r),t=!0},p(i,r){i[2]?n?(n.p(i,r),r&4&&C(n,1)):(n=Se(i),n.c(),C(n,1),n.m(e.parentNode,e)):n&&(F(),S(n,1,1,()=>{n=null}),G()),f&&f.p&&(!t||r&32768)&&ue(f,l,i,i[15],t?ce(l,i[15],r,null):he(i[15]),null)},i(i){t||(C(n),C(f,i),t=!0)},o(i){S(n),S(f,i),t=!1},d(i){n&&n.d(i),i&&p(e),f&&f.d(i)}}}function ze(s){let e,t;return e=new ut({props:{source:s[3],target:s[4]}}),{c(){Z(e.$$.fragment)},l(n){K(e.$$.fragment,n)},m(n,l){Q(e,n,l),t=!0},p(n,l){const f={};l&8&&(f.source=n[3]),l&16&&(f.target=n[4]),e.$set(f)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function bt(s){let e,t,n,l,f,i,r,o,u;const a=[kt,pt,mt],h=[];function g(m,d){return m[1]?0:m[2]?1:2}t=g(s),n=h[t]=a[t](s);let c=s[5]&&ze(s);return{c(){e=I("div"),n.c(),f=X(),c&&c.c(),i=R(),this.h()},l(m){e=W(m,"DIV",{class:!0,id:!0,style:!0});var d=P(e);n.l(d),d.forEach(p),f=A(m),c&&c.l(m),i=R(),this.h()},h(){_(e,"class","endpoint svelte-kwqgve"),_(e,"id",l=s[0].id),B(e,"left",s[7]+"px"),B(e,"top",s[6]+"px"),B(e,"width",s[0].width+"px"),B(e,"height",s[0].height+"px")},m(m,d){O(m,e,d),h[t].m(e,null),O(m,f,d),c&&c.m(m,d),O(m,i,d),r=!0,o||(u=[Ve(et.call(null,e)),ie(e,"connecting",s[8]),ie(e,"connected",s[9])],o=!0)},p(m,[d]){let b=t;t=g(m),t===b?h[t].p(m,d):(F(),S(h[b],1,1,()=>{h[b]=null}),G(),n=h[t],n?n.p(m,d):(n=h[t]=a[t](m),n.c()),C(n,1),n.m(e,null)),(!r||d&1&&l!==(l=m[0].id))&&_(e,"id",l),(!r||d&128)&&B(e,"left",m[7]+"px"),(!r||d&64)&&B(e,"top",m[6]+"px"),(!r||d&1)&&B(e,"width",m[0].width+"px"),(!r||d&1)&&B(e,"height",m[0].height+"px"),m[5]?c?(c.p(m,d),d&32&&C(c,1)):(c=ze(m),c.c(),C(c,1),c.m(i.parentNode,i)):c&&(F(),S(c,1,1,()=>{c=null}),G())},i(m){r||(C(n),C(c),r=!0)},o(m){S(n),S(c),r=!1},d(m){m&&p(e),h[t].d(),m&&p(f),c&&c.d(m),m&&p(i),o=!1,He(u)}}}function wt(s,e,t){let n,l,{$$slots:f={},$$scope:i}=e,{node:r}=e,{data:o}=e,{resizable:u=!1}=e,{panhandle:a=!1}=e,h,g,c=!1;function m(v){var k,E;t(5,c=!0),t(3,h=v.detail.node),((k=v.detail)==null?void 0:k.x)!==(g==null?void 0:g.offsetLeft)&&((E=v.detail)==null?void 0:E.y)!==(g==null?void 0:g.offsetTop)&&t(4,g={offsetLeft:v.detail.x,offsetTop:v.detail.y,offsetWidth:0,offsetHeight:0})}function d(v){t(5,c=!1);function k(M){return M.id?M.id:M.parentNode?k(M.parentNode):!1}let E=k(v.detail.target);!E||E==r.id||o.links.find(M=>M.source.id==r.id&&M.target.id==E)===void 0&&t(10,o.links=[...o.links,{source:{id:r.id},target:{id:E},opts:{arrow:!0,label:{enabled:!0,value:`${r.id} to ${E}`}}}],o)}function b(v){r=v,t(0,r)}function y(v){r=v,t(0,r)}function z(v){r=v,t(0,r)}return s.$$set=v=>{"node"in v&&t(0,r=v.node),"data"in v&&t(10,o=v.data),"resizable"in v&&t(1,u=v.resizable),"panhandle"in v&&t(2,a=v.panhandle),"$$scope"in v&&t(15,i=v.$$scope)},s.$$.update=()=>{s.$$.dirty&1&&t(7,n=r.x),s.$$.dirty&1&&t(6,l=r.y)},[r,u,a,h,g,c,l,n,m,d,o,f,b,y,z,i]}class yt extends ee{constructor(e){super(),te(this,e,wt,bt,ne,{node:0,data:10,resizable:1,panhandle:2})}}function Te(s,e,t){const n=s.slice();return n[12]=e[t],n[14]=t,n}function De(s){let e,t,n,l=s[0],f=[];for(let i=0;i<l.length;i+=1)f[i]=je(Te(s,l,i));return{c(){e=I("div"),t=T("svg");for(let i=0;i<f.length;i+=1)f[i].c();n=N(`\r
			// draw an s curve svg with arrow marker mid genPath`),this.h()},l(i){e=W(i,"DIV",{class:!0});var r=P(e);t=D(r,"svg",{class:!0});var o=P(t);for(let u=0;u<f.length;u+=1)f[u].l(o);n=j(o,`\r
			// draw an s curve svg with arrow marker mid genPath`),o.forEach(p),r.forEach(p),this.h()},h(){_(t,"class","svelte-fjhjxy"),_(e,"class","svg-container svelte-fjhjxy")},m(i,r){O(i,e,r),w(e,t);for(let o=0;o<f.length;o+=1)f[o].m(t,null);w(t,n)},p(i,r){if(r&2047){l=i[0];let o;for(o=0;o<l.length;o+=1){const u=Te(i,l,o);f[o]?f[o].p(u,r):(f[o]=je(u),f[o].c(),f[o].m(t,n))}for(;o<f.length;o+=1)f[o].d(1);f.length=l.length}},d(i){i&&p(e),qe(f,i)}}}function Ne(s){var c,m,d,b,y,z,v,k;let e,t,n,l,f,i,r=((d=(m=(c=s[12])==null?void 0:c.opts)==null?void 0:m.label)!=null&&d.enabled?(z=(y=(b=s[12])==null?void 0:b.opts)==null?void 0:y.label)==null?void 0:z.value:"")+"",o,u,a,h=(k=(v=s[12])==null?void 0:v.opts)!=null&&k.arrow?"\u27A4":"",g;return{c(){e=T("g"),t=T("path"),l=T("text"),f=T("textPath"),i=T("tspan"),o=N(r),u=X(),a=T("textPath"),g=N(h),this.h()},l(E){e=D(E,"g",{stroke:!0,"stroke-opacity":!0});var M=P(e);t=D(M,"path",{d:!0,id:!0,"stroke-width":!0,stroke:!0,fill:!0,"stroke-linecap":!0,"marker-mid":!0,"stroke-opacity":!0}),P(t).forEach(p),l=D(M,"text",{class:!0});var L=P(l);f=D(L,"textPath",{"xlink:href":!0,startOffset:!0});var q=P(f);i=D(q,"tspan",{fill:!0,class:!0});var Y=P(i);o=j(Y,r),Y.forEach(p),u=A(q),q.forEach(p),a=D(L,"textPath",{"xlink:href":!0,startOffset:!0,fill:!0});var le=P(a);g=j(le,h),le.forEach(p),L.forEach(p),M.forEach(p),this.h()},h(){_(t,"d",n=s[10](s[12])),_(t,"id","link_"+s[14]),_(t,"stroke-width",s[2]),_(t,"stroke",s[1]),_(t,"fill","none"),_(t,"stroke-linecap","round"),_(t,"marker-mid","url(#triangle)"),_(t,"stroke-opacity",s[4]),_(i,"fill","black"),_(i,"class","svelte-fjhjxy"),fe(f,"xlink:href","#link_"+s[14]),_(f,"startOffset",s[7]),fe(a,"xlink:href","#link_"+s[14]),_(a,"startOffset",s[8]),_(a,"fill",s[3]),_(l,"class","svelte-fjhjxy"),_(e,"stroke",s[6]),_(e,"stroke-opacity",s[5])},m(E,M){O(E,e,M),w(e,t),w(e,l),w(l,f),w(f,i),w(i,o),w(f,u),w(l,a),w(a,g)},p(E,M){var L,q,Y,le,ve,be,we,ye;M&1&&n!==(n=E[10](E[12]))&&_(t,"d",n),M&4&&_(t,"stroke-width",E[2]),M&2&&_(t,"stroke",E[1]),M&16&&_(t,"stroke-opacity",E[4]),M&1&&r!==(r=((Y=(q=(L=E[12])==null?void 0:L.opts)==null?void 0:q.label)!=null&&Y.enabled?(be=(ve=(le=E[12])==null?void 0:le.opts)==null?void 0:ve.label)==null?void 0:be.value:"")+"")&&V(o,r),M&128&&_(f,"startOffset",E[7]),M&1&&h!==(h=(ye=(we=E[12])==null?void 0:we.opts)!=null&&ye.arrow?"\u27A4":"")&&V(g,h),M&256&&_(a,"startOffset",E[8]),M&8&&_(a,"fill",E[3]),M&64&&_(e,"stroke",E[6]),M&32&&_(e,"stroke-opacity",E[5])},d(E){E&&p(e)}}}function je(s){let e,t=s[12]&&s[9]&&Ne(s);return{c(){t&&t.c(),e=R()},l(n){t&&t.l(n),e=R()},m(n,l){t&&t.m(n,l),O(n,e,l)},p(n,l){n[12]&&n[9]?t?t.p(n,l):(t=Ne(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&p(e)}}}function Et(s){let e,t=s[9]&&De(s);return{c(){t&&t.c(),e=R()},l(n){t&&t.l(n),e=R()},m(n,l){t&&t.m(n,l),O(n,e,l)},p(n,[l]){n[9]?t?t.p(n,l):(t=De(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(n){t&&t.d(n),n&&p(e)}}}function Mt(s,e,t){let{links:n}=e,{strokeColor:l="green"}=e,{strokeWidth:f=3}=e,{arrowColor:i="green"}=e,{strokeOpacity:r="0.5"}=e,{groupStrokeOpacity:o="0.1"}=e,{groupStrokeColor:u="white"}=e,{textStartOffset:a="40%"}=e,{arrowStartOffset:h="60%"}=e;const g=Fe(Ue);let c;ke(()=>{t(9,c=!0)});function m(d){let b=document.getElementById(d.source.id),y=document.getElementById(d.target.id),z=(b==null?void 0:b.offsetLeft)+b.offsetWidth/2,v=(b==null?void 0:b.offsetTop)+b.offsetHeight/2,k=(y==null?void 0:y.offsetLeft)+y.offsetWidth/2,E=(y==null?void 0:y.offsetTop)+y.offsetHeight/2;return g({source:[z,v],target:[k,E]})}return s.$$set=d=>{"links"in d&&t(0,n=d.links),"strokeColor"in d&&t(1,l=d.strokeColor),"strokeWidth"in d&&t(2,f=d.strokeWidth),"arrowColor"in d&&t(3,i=d.arrowColor),"strokeOpacity"in d&&t(4,r=d.strokeOpacity),"groupStrokeOpacity"in d&&t(5,o=d.groupStrokeOpacity),"groupStrokeColor"in d&&t(6,u=d.groupStrokeColor),"textStartOffset"in d&&t(7,a=d.textStartOffset),"arrowStartOffset"in d&&t(8,h=d.arrowStartOffset)},[n,l,f,i,r,o,u,a,h,c,m]}class Lt extends ee{constructor(e){super(),te(this,e,Mt,Et,ne,{links:0,strokeColor:1,strokeWidth:2,arrowColor:3,strokeOpacity:4,groupStrokeOpacity:5,groupStrokeColor:6,textStartOffset:7,arrowStartOffset:8})}}function Ie(s,e,t){const n=s.slice();return n[1]=e[t][0],n[0]=e[t][1],n}function We(s){let e,t,n=[...Object.entries(s[0])],l=[];for(let i=0;i<n.length;i+=1)l[i]=Xe(Ie(s,n,i));const f=i=>S(l[i],1,1,()=>{l[i]=null});return{c(){e=I("ul");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){e=W(i,"UL",{class:!0});var r=P(e);for(let o=0;o<l.length;o+=1)l[o].l(r);r.forEach(p),this.h()},h(){_(e,"class","svelte-7brqjp")},m(i,r){O(i,e,r);for(let o=0;o<l.length;o+=1)l[o].m(e,null);t=!0},p(i,r){if(r&1){n=[...Object.entries(i[0])];let o;for(o=0;o<n.length;o+=1){const u=Ie(i,n,o);l[o]?(l[o].p(u,r),C(l[o],1)):(l[o]=Xe(u),l[o].c(),C(l[o],1),l[o].m(e,null))}for(F(),o=n.length;o<l.length;o+=1)f(o);G()}},i(i){if(!t){for(let r=0;r<n.length;r+=1)C(l[r]);t=!0}},o(i){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)S(l[r]);t=!1},d(i){i&&p(e),qe(l,i)}}}function Ct(s){let e=s[1]+"",t,n,l=s[0]+"",f;return{c(){t=N(e),n=N(`\r
					:\r
					`),f=N(l)},l(i){t=j(i,e),n=j(i,`\r
					:\r
					`),f=j(i,l)},m(i,r){O(i,t,r),O(i,n,r),O(i,f,r)},p(i,r){r&1&&e!==(e=i[1]+"")&&V(t,e),r&1&&l!==(l=i[0]+"")&&V(f,l)},i:H,o:H,d(i){i&&p(t),i&&p(n),i&&p(f)}}}function Pt(s){let e=s[1]+"",t,n,l,f;return l=new Ze({props:{key:s[1],val:s[0]}}),{c(){t=N(e),n=X(),Z(l.$$.fragment)},l(i){t=j(i,e),n=A(i),K(l.$$.fragment,i)},m(i,r){O(i,t,r),O(i,n,r),Q(l,i,r),f=!0},p(i,r){(!f||r&1)&&e!==(e=i[1]+"")&&V(t,e);const o={};r&1&&(o.key=i[1]),r&1&&(o.val=i[0]),l.$set(o)},i(i){f||(C(l.$$.fragment,i),f=!0)},o(i){S(l.$$.fragment,i),f=!1},d(i){i&&p(t),i&&p(n),J(l,i)}}}function Xe(s){let e,t,n,l,f;const i=[Pt,Ct],r=[];function o(u,a){return typeof u[0]=="object"?0:1}return t=o(s),n=r[t]=i[t](s),{c(){e=I("li"),n.c(),l=X()},l(u){e=W(u,"LI",{});var a=P(e);n.l(a),l=A(a),a.forEach(p)},m(u,a){O(u,e,a),r[t].m(e,null),w(e,l),f=!0},p(u,a){let h=t;t=o(u),t===h?r[t].p(u,a):(F(),S(r[h],1,1,()=>{r[h]=null}),G(),n=r[t],n?n.p(u,a):(n=r[t]=i[t](u),n.c()),C(n,1),n.m(e,l))},i(u){f||(C(n),f=!0)},o(u){S(n),f=!1},d(u){u&&p(e),r[t].d()}}}function Ot(s){let e,t,n=s[0]&&We(s);return{c(){n&&n.c(),e=R()},l(l){n&&n.l(l),e=R()},m(l,f){n&&n.m(l,f),O(l,e,f),t=!0},p(l,[f]){l[0]?n?(n.p(l,f),f&1&&C(n,1)):(n=We(l),n.c(),C(n,1),n.m(e.parentNode,e)):n&&(F(),S(n,1,1,()=>{n=null}),G())},i(l){t||(C(n),t=!0)},o(l){S(n),t=!1},d(l){n&&n.d(l),l&&p(e)}}}function St(s,e,t){let{val:n=null}=e;return s.$$set=l=>{"val"in l&&t(0,n=l.val)},[n]}class Ze extends ee{constructor(e){super(),te(this,e,St,Ot,ne,{val:0})}}function Ae(s,e,t){const n=s.slice();return n[6]=e[t],n[7]=e,n[8]=t,n}function zt(s){let e,t=s[6].id+"",n,l,f,i,r=s[6].x+"",o,u,a=s[6].y+"",h,g,c,m=s[6].width+"",d,b,y=s[6].height+"",z;return{c(){e=I("div"),n=N(t),l=N(" Connect from Me "),f=I("br"),i=X(),o=N(r),u=N(","),h=N(a),g=I("br"),c=X(),d=N(m),b=N(","),z=N(y),this.h()},l(v){e=W(v,"DIV",{class:!0});var k=P(e);n=j(k,t),l=j(k," Connect from Me "),f=W(k,"BR",{}),i=A(k),o=j(k,r),u=j(k,","),h=j(k,a),g=W(k,"BR",{}),c=A(k),d=j(k,m),b=j(k,","),z=j(k,y),k.forEach(p),this.h()},h(){_(e,"class","inner svelte-s6gh28")},m(v,k){O(v,e,k),w(e,n),w(e,l),w(e,f),w(e,i),w(e,o),w(e,u),w(e,h),w(e,g),w(e,c),w(e,d),w(e,b),w(e,z)},p(v,k){k&1&&t!==(t=v[6].id+"")&&V(n,t),k&1&&r!==(r=v[6].x+"")&&V(o,r),k&1&&a!==(a=v[6].y+"")&&V(h,a),k&1&&m!==(m=v[6].width+"")&&V(d,m),k&1&&y!==(y=v[6].height+"")&&V(z,y)},d(v){v&&p(e)}}}function Be(s,e){let t,n,l,f,i;function r(a){e[1](a)}function o(a){e[2](a,e[6],e[7],e[8])}let u={resizable:!0,panhandle:!0,$$slots:{default:[zt]},$$scope:{ctx:e}};return e[0]!==void 0&&(u.data=e[0]),e[6]!==void 0&&(u.node=e[6]),n=new yt({props:u}),U.push(()=>re(n,"data",r)),U.push(()=>re(n,"node",o)),{key:s,first:null,c(){t=R(),Z(n.$$.fragment),this.h()},l(a){t=R(),K(n.$$.fragment,a),this.h()},h(){this.first=t},m(a,h){O(a,t,h),Q(n,a,h),i=!0},p(a,h){e=a;const g={};h&513&&(g.$$scope={dirty:h,ctx:e}),!l&&h&1&&(l=!0,g.data=e[0],oe(()=>l=!1)),!f&&h&1&&(f=!0,g.node=e[6],oe(()=>f=!1)),n.$set(g)},i(a){i||(C(n.$$.fragment,a),i=!0)},o(a){S(n.$$.fragment,a),i=!1},d(a){a&&p(t),J(n,a)}}}function Re(s){let e,t;return e=new Lt({props:{links:s[0].links}}),{c(){Z(e.$$.fragment)},l(n){K(e.$$.fragment,n)},m(n,l){Q(e,n,l),t=!0},p(n,l){const f={};l&1&&(f.links=n[0].links),e.$set(f)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Tt(s){let e,t=[],n=new Map,l,f,i,r,o,u=s[0].nodes;const a=g=>g[6].id;for(let g=0;g<u.length;g+=1){let c=Ae(s,u,g),m=a(c);n.set(m,t[g]=Be(m,c))}let h=s[0].links.length>0&&Re(s);return r=new Ze({props:{val:s[0]}}),{c(){e=I("div");for(let g=0;g<t.length;g+=1)t[g].c();l=X(),h&&h.c(),f=X(),i=I("div"),Z(r.$$.fragment),this.h()},l(g){e=W(g,"DIV",{class:!0});var c=P(e);for(let d=0;d<t.length;d+=1)t[d].l(c);l=A(c),h&&h.l(c),c.forEach(p),f=A(g),i=W(g,"DIV",{});var m=P(i);K(r.$$.fragment,m),m.forEach(p),this.h()},h(){_(e,"class","wrapper svelte-s6gh28")},m(g,c){O(g,e,c);for(let m=0;m<t.length;m+=1)t[m].m(e,null);w(e,l),h&&h.m(e,null),O(g,f,c),O(g,i,c),Q(r,i,null),o=!0},p(g,[c]){c&1&&(u=g[0].nodes,F(),t=Je(t,c,a,1,g,u,n,e,xe,Be,l,Ae),G()),g[0].links.length>0?h?(h.p(g,c),c&1&&C(h,1)):(h=Re(g),h.c(),C(h,1),h.m(e,null)):h&&(F(),S(h,1,1,()=>{h=null}),G());const m={};c&1&&(m.val=g[0]),r.$set(m)},i(g){if(!o){for(let c=0;c<u.length;c+=1)C(t[c]);C(h),C(r.$$.fragment,g),o=!0}},o(g){for(let c=0;c<t.length;c+=1)S(t[c]);S(h),S(r.$$.fragment,g),o=!1},d(g){g&&p(e);for(let c=0;c<t.length;c+=1)t[c].d();h&&h.d(),g&&p(f),g&&p(i),J(r)}}}function Dt(s,e,t){let n={nodes:[{id:"1",group:1,connectable:!0,x:90,y:64,width:100,height:100},{id:"2",group:2,connectable:!1,x:355,y:129,width:100,height:100},{id:"3",group:2,connectable:!1,x:69,y:276,width:400,height:400,children:[{id:"4",group:1,connectable:!0,x:100,y:100,width:100,height:100},{id:"5",group:2,connectable:!1,x:414,y:190,width:100,height:100}]}],links:[{source:{id:"1"},target:{id:"2"}}]};function l(i){n=i,t(0,n)}function f(i,r,o,u){o[u]=i,t(0,n)}return[n,l,f]}class It extends ee{constructor(e){super(),te(this,e,Dt,Tt,ne,{})}}export{It as default};
