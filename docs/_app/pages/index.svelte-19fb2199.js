var ye=Object.defineProperty,Le=Object.defineProperties;var Ce=Object.getOwnPropertyDescriptors;var le=Object.getOwnPropertySymbols;var Me=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable;var ue=(n,t,e)=>t in n?ye(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,q=(n,t)=>{for(var e in t||(t={}))Me.call(t,e)&&ue(n,e,t[e]);if(le)for(var e of le(t))Pe.call(t,e)&&ue(n,e,t[e]);return n},fe=(n,t)=>Le(n,Ce(t));import{S as W,i as A,s as V,L as y,M as L,a as k,d as v,b as h,g as C,J as b,e as H,k as Z,t as B,N as De,c as I,m as J,h as G,O as ce,K as Y,v as ne,P as Oe,Q as X,R as Ne,F as pe,f as N,T as se,U as T,G as we,H as Ee,I as be,q as P,o as D,V as oe,W as Te,X as Se,l as de,Y as Xe,Z as U,w as x,x as j,y as z,B as F,_ as K,n as He,p as Ie}from"../chunks/vendor-5752a92d.js";import{_ as Ye}from"../chunks/preload-helper-1cdadef7.js";const he=3;let O,R,ee,me;const te=(n,t=console.debug)=>{const e=n();Array.isArray(e)?t(...e):t(e)};function We(n,t){n.addEventListener("mousedown",e),n.addEventListener("touchstart",e);function e(f){if(f.target!==f.currentTarget&&(f.target.value!==void 0||f.target.isContentEditable)){te(()=>"won't initiate drag on a nested input element");return}if(f.button){te(()=>`ignoring none left click button: ${f.button}`);return}if(f.target!==n){te(()=>`must connect from the connectable, not a child element: ${f.button}`);return}f.stopPropagation();const m=f.touches?f.touches[0]:f;R={x:m.clientX,y:m.clientY},O=q({},R),ee=f.currentTarget,s()}function s(){window.addEventListener("mousemove",i,{passive:!1}),window.addEventListener("touchmove",i,{passive:!1,capture:!1}),window.addEventListener("mouseup",u,{passive:!1}),window.addEventListener("touchend",u,{passive:!1})}function o(){window.removeEventListener("mousemove",i),window.removeEventListener("touchmove",i),window.removeEventListener("mouseup",u),window.removeEventListener("touchend",u)}function u(){o(),ee=void 0,R=void 0,O=void 0}function i(f){f.preventDefault();const m=f.touches?f.touches[0]:f;O={x:m.clientX,y:m.clientY},(Math.abs(O.x-R.x)>=he||Math.abs(O.y-R.y)>=he)&&(o(),r())}function r(){me=ee.parentElement;const f=me.getRootNode();f.body;const m={attributes:!0,childList:!1,subtree:!1},E=function(c,_){n.dispatchEvent(new CustomEvent("connecting",{detail:q({node:n},O)}))},g=new MutationObserver(E);g.observe(n,m);function d(c){console.log("HANDLING Source DISCONNECT"),g.disconnect(),n.removeEventListener("disconnect",d)}n.addEventListener("disconnect",d),window.addEventListener("mousemove",a,{passive:!1}),window.addEventListener("touchmove",a,{passive:!1,capture:!1}),window.addEventListener("mouseup",l,{passive:!1}),window.addEventListener("touchend",l,{passive:!1})}function a(f){f.preventDefault();const m=f.touches?f.touches[0]:f;O={x:m.clientX,y:m.clientY},n.dispatchEvent(new CustomEvent("connecting",{detail:q({node:n},O)}))}function l(f){console.log("dropped "),window.removeEventListener("mousemove",a),window.removeEventListener("touchmove",a),window.removeEventListener("mouseup",l),window.removeEventListener("touchend",l);const m=f.changedTouches;let E=m?document.elementFromPoint(m[0].clientX,m[0].clientY):f.target;n.dispatchEvent(new CustomEvent("connected",{detail:{target:E}}));const g={attributes:!0,childList:!1,subtree:!1},d=function(p,M){n.dispatchEvent(new CustomEvent("connected",{detail:{target:E}}))},c=new MutationObserver(d);c.observe(E,g);function _(p){console.log("HANDLING DISCONNECT"),c.disconnect(),E.removeEventListener("disconnect",_)}E.addEventListener("disconnect",_)}return{destroy(){}}}function _e(n){let t,e;return{c(){t=y("g"),e=y("path"),this.h()},l(s){t=L(s,"g",{stroke:!0,"stroke-opacity":!0});var o=k(t);e=L(o,"path",{d:!0,id:!0,"stroke-width":!0,stroke:!0,fill:!0,"stroke-linecap":!0,"marker-mid":!0,style:!0}),k(e).forEach(v),o.forEach(v),this.h()},h(){h(e,"d",n[9]),h(e,"id","path1"),h(e,"stroke-width",n[3]),h(e,"stroke",n[2]),h(e,"fill","none"),h(e,"stroke-linecap","round"),h(e,"marker-mid","url(#triangle)"),h(e,"style",""),h(t,"stroke","red"),h(t,"stroke-opacity","0.9")},m(s,o){C(s,t,o),b(t,e)},p(s,o){o&512&&h(e,"d",s[9]),o&8&&h(e,"stroke-width",s[3]),o&4&&h(e,"stroke",s[2])},d(s){s&&v(t)}}}function Ae(n){let t,e,s,o,u,i,r,a,l,f,m,E,g,d,c=n[6]&&n[7]&&_e(n);return{c(){t=H("link"),e=Z(),s=H("span"),o=y("svg"),u=y("defs"),i=y("marker"),r=y("path"),c&&c.c(),a=y("text"),l=y("textPath"),f=y("tspan"),m=B("Curvy Connector"),E=Z(),g=y("textPath"),d=B("\u27A4"),this.h()},l(_){const p=De('[data-svelte="svelte-1y2tnph"]',document.head);t=I(p,"LINK",{rel:!0,type:!0,href:!0}),p.forEach(v),e=J(_),s=I(_,"SPAN",{class:!0});var M=k(s);o=L(M,"svg",{width:!0,height:!0,class:!0});var S=k(o);u=L(S,"defs",{});var w=k(u);i=L(w,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerUnits:!0,markerWidth:!0,markerHeight:!0,orient:!0});var re=k(i);r=L(re,"path",{d:!0,fill:!0}),k(r).forEach(v),re.forEach(v),w.forEach(v),c&&c.l(S),a=L(S,"text",{class:!0});var Q=k(a);l=L(Q,"textPath",{"xlink:href":!0,startOffset:!0});var $=k(l);f=L($,"tspan",{fill:!0,class:!0});var ie=k(f);m=G(ie,"Curvy Connector"),ie.forEach(v),E=J($),$.forEach(v),g=L(Q,"textPath",{"xlink:href":!0,startOffset:!0,fill:!0});var ae=k(g);d=G(ae,"\u27A4"),ae.forEach(v),Q.forEach(v),S.forEach(v),M.forEach(v),this.h()},h(){h(t,"rel","stylesheet"),h(t,"type","text/css"),h(t,"href","//fonts.googleapis.com/css?family=Luckiest+Guy"),h(r,"d","M 0 0 L 10 5 L 0 10 z"),h(r,"fill","context-stroke"),h(i,"id","triangle"),h(i,"viewBox","0 0 10 10"),h(i,"refX","1"),h(i,"refY","5"),h(i,"markerUnits","strokeWidth"),h(i,"markerWidth","4"),h(i,"markerHeight","3"),h(i,"orient","auto"),h(f,"fill","black"),h(f,"class","svelte-1dq50y9"),ce(l,"xlink:href","#path1"),h(l,"startOffset","20%"),ce(g,"xlink:href","#path1"),h(g,"startOffset",n[5]),h(g,"fill",n[4]),h(a,"class","svelte-1dq50y9"),h(o,"width",n[0]),h(o,"height",n[1]),h(o,"class","svelte-1dq50y9"),h(s,"class","svg-container svelte-1dq50y9")},m(_,p){b(document.head,t),C(_,e,p),C(_,s,p),b(s,o),b(o,u),b(u,i),b(i,r),c&&c.m(o,null),b(o,a),b(a,l),b(l,f),b(f,m),b(l,E),b(a,g),b(g,d),n[15](o)},p(_,[p]){_[6]&&_[7]?c?c.p(_,p):(c=_e(_),c.c(),c.m(o,a)):c&&(c.d(1),c=null),p&32&&h(g,"startOffset",_[5]),p&16&&h(g,"fill",_[4]),p&1&&h(o,"width",_[0]),p&2&&h(o,"height",_[1])},i:Y,o:Y,d(_){v(t),_&&v(e),_&&v(s),c&&c.d(),n[15](null)}}}function Ve(n,t,e){let s,{target:o}=t,{source:u}=t,{width:i=500}=t,{height:r=500}=t,{strokeColor:a="green"}=t,{strokeWidth:l=3}=t,{arrowColor:f="green"}=t,{startOffset:m="60%"}=t;const E=Oe(Ne);let g,d,c,_,p,M;ne(()=>{e(12,d=!0)});function S(w){X[w?"unshift":"push"](()=>{g=w,e(8,g)})}return n.$$set=w=>{"target"in w&&e(10,o=w.target),"source"in w&&e(11,u=w.source),"width"in w&&e(0,i=w.width),"height"in w&&e(1,r=w.height),"strokeColor"in w&&e(2,a=w.strokeColor),"strokeWidth"in w&&e(3,l=w.strokeWidth),"arrowColor"in w&&e(4,f=w.arrowColor),"startOffset"in w&&e(5,m=w.startOffset)},n.$$.update=()=>{n.$$.dirty&7232&&d&&e(6,c=c<o.offsetLeft?u.offsetLeft+u.clientWidth:u.offsetLeft),n.$$.dirty&6144&&d&&e(14,p=u.offsetTop+u.clientHeight/2),n.$$.dirty&5120&&d&&e(13,_=o.offsetLeft),n.$$.dirty&5120&&d&&e(7,M=o.offsetTop+o.offsetHeight/2),n.$$.dirty&24768&&e(9,s=E({source:[c,p],target:[_,M]})),n.$$.dirty&1024&&o&&console.log("Connecting",{target:o})},[i,r,a,l,f,m,c,M,g,s,o,u,d,_,p,S]}class qe extends W{constructor(t){super();A(this,t,Ve,Ae,V,{target:10,source:11,width:0,height:1,strokeColor:2,strokeWidth:3,arrowColor:4,startOffset:5})}}function ke(n){let t,e;function s(i){i.stopPropagation();const r=i.touches?i.touches[0]:i;t=r.clientX,e=r.clientY,n.dispatchEvent(new CustomEvent("panstart",{detail:{x:t,y:e}})),window.addEventListener("mousemove",o),window.addEventListener("mouseup",u),window.addEventListener("touchmove",o),window.addEventListener("touchend",u)}function o(i){i.preventDefault();const r=i.touches?i.touches[0]:i,a=r.clientX-t,l=r.clientY-e;t=r.clientX,e=r.clientY,n.dispatchEvent(new CustomEvent("panmove",{detail:{x:t,y:e,dx:a,dy:l}}))}function u(i){t=i.clientX,e=i.clientY,n.dispatchEvent(new CustomEvent("panend",{detail:{x:t,y:e}})),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",u),window.removeEventListener("touchmove",o),window.removeEventListener("touchend",u)}return n.addEventListener("mousedown",s),n.addEventListener("touchstart",s),{destroy(){n.removeEventListener("mousedown",s),n.removeEventListener("touchstart",s)}}}var Re=Object.freeze(Object.defineProperty({__proto__:null,pannable:ke},Symbol.toStringTag,{value:"Module"}));function Be(n){let t;return{c(){t=B("Pull on me")},l(e){t=G(e,"Pull on me")},m(e,s){C(e,t,s)},d(e){e&&v(t)}}}function Ge(n){let t,e,s,o;const u=n[9].default,i=pe(u,n,n[8],null),r=i||Be();return{c(){t=H("div"),r&&r.c(),this.h()},l(a){t=I(a,"DIV",{class:!0,style:!0});var l=k(t);r&&r.l(l),l.forEach(v),this.h()},h(){h(t,"class","box svelte-l9cslw"),N(t,"left",n[1].x+"px"),N(t,"top",n[1].y+"px")},m(a,l){C(a,t,l),r&&r.m(t,null),n[10](t),e=!0,s||(o=[se(ke.call(null,t)),T(t,"panstart",n[3]),T(t,"panmove",n[4]),T(t,"panend",n[5])],s=!0)},p(a,[l]){i&&i.p&&(!e||l&256)&&we(i,u,a,a[8],e?be(u,a[8],l,null):Ee(a[8]),null),(!e||l&2)&&N(t,"left",a[1].x+"px"),(!e||l&2)&&N(t,"top",a[1].y+"px")},i(a){e||(P(r,a),e=!0)},o(a){D(r,a),e=!1},d(a){a&&v(t),r&&r.d(a),n[10](null),s=!1,oe(o)}}}function xe(n,t,e){let s,{$$slots:o={},$$scope:u}=t,{panElement:i}=t,{x:r=0}=t,{y:a=0}=t;const l=Te({x:r,y:a},{stiffness:.2,damping:.4});Se(n,l,d=>e(1,s=d));function f(){e(2,l.stiffness=e(2,l.damping=1,l),l)}function m(d){l.update(c=>({x:c.x+d.detail.dx,y:c.y+d.detail.dy}))}function E(d){e(2,l.stiffness=.2,l),e(2,l.damping=.4,l),l.set({x:r,y:a})}ne(()=>{e(0,i),e(1,s)});function g(d){X[d?"unshift":"push"](()=>{i=d,e(0,i),e(1,s)})}return n.$$set=d=>{"panElement"in d&&e(0,i=d.panElement),"x"in d&&e(6,r=d.x),"y"in d&&e(7,a=d.y),"$$scope"in d&&e(8,u=d.$$scope)},n.$$.update=()=>{n.$$.dirty&3&&s&&(e(0,i),e(1,s))},[i,s,l,f,m,E,r,a,u,o,g]}class je extends W{constructor(t){super();A(this,t,xe,Ge,V,{panElement:0,x:6,y:7})}}function ze(n){let t,e,s,o;const u=n[8].default,i=pe(u,n,n[7],null);return{c(){t=H("div"),i&&i.c(),this.h()},l(r){t=I(r,"DIV",{class:!0,style:!0});var a=k(t);i&&i.l(a),a.forEach(v),this.h()},h(){h(t,"class","endpoint svelte-15oongv"),N(t,"left",n[1]+"px"),N(t,"top",n[0]+"px")},m(r,a){C(r,t,a),i&&i.m(t,null),e=!0,s||(o=[se(We.call(null,t)),T(t,"connecting",n[2]),T(t,"connected",n[3])],s=!0)},p(r,[a]){i&&i.p&&(!e||a&128)&&we(i,u,r,r[7],e?be(u,r[7],a,null):Ee(r[7]),null),(!e||a&2)&&N(t,"left",r[1]+"px"),(!e||a&1)&&N(t,"top",r[0]+"px")},i(r){e||(P(i,r),e=!0)},o(r){D(i,r),e=!1},d(r){r&&v(t),i&&i.d(r),s=!1,oe(o)}}}function Fe(n,t,e){let s,o,{$$slots:u={},$$scope:i}=t,{node:r={x:10,y:10}}=t,{source:a}=t,{target:l}=t,f;function m(g){e(4,a=g.detail.node),e(5,l={offsetLeft:g.detail.x,offsetTop:g.detail.y,offsetWidth:0,offsetHeight:0})}function E(g){e(5,l=g.detail.target),f&&f!==l&&f.dispatchEvent(new CustomEvent("disconnect")),f=l}return n.$$set=g=>{"node"in g&&e(6,r=g.node),"source"in g&&e(4,a=g.source),"target"in g&&e(5,l=g.target),"$$scope"in g&&e(7,i=g.$$scope)},n.$$.update=()=>{n.$$.dirty&64&&e(1,s=r.x),n.$$.dirty&64&&e(0,o=r.y)},[o,s,m,E,a,l,r,i,u]}class Ue extends W{constructor(t){super();A(this,t,Fe,ze,V,{node:6,source:4,target:5})}}function ge(n){let t,e,s,o,u,i,r;return{c(){t=H("div"),e=y("svg"),s=y("defs"),o=y("path"),this.h()},l(a){t=I(a,"DIV",{class:!0});var l=k(t);e=L(l,"svg",{width:!0,height:!0,xmlns:!0,"aria-hidden":!0,class:!0,"data-icon":!0,"data-prefix":!0,viewBox:!0});var f=k(e);s=L(f,"defs",{}),k(s).forEach(v),o=L(f,"path",{fill:!0,d:!0}),k(o).forEach(v),f.forEach(v),l.forEach(v),this.h()},h(){h(o,"fill","currentColor"),h(o,"d","M352 426l-79 79c-9 9-25 9-34 0l-79-79c-15-15-5-41 17-41h51V284H127v51c0 22-26 32-41 17L7 273c-9-9-9-25 0-34l79-79c15-15 41-5 41 17v51h101V127h-51c-22 0-32-26-17-41l79-79c9-9 25-9 34 0l79 79c15 15 5 41-17 41h-51v101h101v-51c0-22 26-32 41-17l79 79c9 9 9 25 0 34l-79 79c-15 15-41 5-41-17v-51H284v101h51c22 0 32 26 17 41z"),h(e,"width","20"),h(e,"height","20"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"aria-hidden","true"),h(e,"class","svg-inline--fa fa-arrows-alt fa-w-16"),h(e,"data-icon","arrows-alt"),h(e,"data-prefix","fas"),h(e,"viewBox","0 0 512 512"),h(t,"class","dragger svelte-1f6p2jn")},m(a,l){C(a,t,l),b(t,e),b(e,s),b(e,o),i||(r=[se(u=n[0].call(null,t)),T(t,"panmove",n[2]),T(t,"panend",n[3]),T(t,"panstart",n[1])],i=!0)},p:Y,d(a){a&&v(t),i=!1,oe(r)}}}function Ke(n){let t,e=n[0]&&ge(n);return{c(){e&&e.c(),t=de()},l(s){e&&e.l(s),t=de()},m(s,o){e&&e.m(s,o),C(s,t,o)},p(s,[o]){s[0]?e?e.p(s,o):(e=ge(s),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:Y,o:Y,d(s){e&&e.d(s),s&&v(t)}}}function Ze(n,t,e){let{nodes:s}=t,{node:o}=t,{mouseMoving:u}=t;const i=Xe();let r;ne(async()=>{e(0,{pannable:r}=await Ye(()=>Promise.resolve().then(function(){return Re}),void 0),r)});function a(m){e(6,u=!0),i("resimulate","resimulate")}function l(m){e(6,u=!0),e(5,o.x=o.x+m.detail.dx,o),e(5,o.y=o.y+m.detail.dy,o),e(5,o),e(4,s[o.index]=fe(q({},s[o.index]),{x:o.x,y:o.y}),s),e(4,s)}function f(m){e(6,u=!1),e(4,s),i("resimulate","resimulate")}return n.$$set=m=>{"nodes"in m&&e(4,s=m.nodes),"node"in m&&e(5,o=m.node),"mouseMoving"in m&&e(6,u=m.mouseMoving)},[r,a,l,f,s,o,u]}class Je extends W{constructor(t){super();A(this,t,Ze,Ke,V,{nodes:4,node:5,mouseMoving:6})}}function Qe(n){let t,e,s,o;function u(r){n[4](r)}let i={nodes:n[3]};return n[0]!==void 0&&(i.node=n[0]),t=new Je({props:i}),X.push(()=>U(t,"node",u)),{c(){x(t.$$.fragment),s=B(`\r
		Connect from Me`)},l(r){j(t.$$.fragment,r),s=G(r,`\r
		Connect from Me`)},m(r,a){z(t,r,a),C(r,s,a),o=!0},p(r,a){const l={};!e&&a&1&&(e=!0,l.node=r[0],K(()=>e=!1)),t.$set(l)},i(r){o||(P(t.$$.fragment,r),o=!0)},o(r){D(t.$$.fragment,r),o=!1},d(r){F(t,r),r&&v(s)}}}function $e(n){let t;return{c(){t=B("Connect to me, then pull on me.")},l(e){t=G(e,"Connect to me, then pull on me.")},m(e,s){C(e,t,s)},d(e){e&&v(t)}}}function ve(n){let t,e;return t=new qe({props:{source:n[1],target:n[2]}}),{c(){x(t.$$.fragment)},l(s){j(t.$$.fragment,s)},m(s,o){z(t,s,o),e=!0},p(s,o){const u={};o&2&&(u.source=s[1]),o&4&&(u.target=s[2]),t.$set(u)},i(s){e||(P(t.$$.fragment,s),e=!0)},o(s){D(t.$$.fragment,s),e=!1},d(s){F(t,s)}}}function et(n){let t,e,s,o,u,i,r,a,l;function f(c){n[5](c)}function m(c){n[6](c)}function E(c){n[7](c)}let g={$$slots:{default:[Qe]},$$scope:{ctx:n}};n[1]!==void 0&&(g.source=n[1]),n[2]!==void 0&&(g.target=n[2]),n[0]!==void 0&&(g.node=n[0]),e=new Ue({props:g}),X.push(()=>U(e,"source",f)),X.push(()=>U(e,"target",m)),X.push(()=>U(e,"node",E)),r=new je({props:{x:200,y:200,$$slots:{default:[$e]},$$scope:{ctx:n}}});let d=n[1]&&n[2]&&ve(n);return{c(){t=H("div"),x(e.$$.fragment),i=Z(),x(r.$$.fragment),a=Z(),d&&d.c(),this.h()},l(c){t=I(c,"DIV",{class:!0});var _=k(t);j(e.$$.fragment,_),i=J(_),j(r.$$.fragment,_),a=J(_),d&&d.l(_),_.forEach(v),this.h()},h(){h(t,"class","wrapper svelte-1cba8mg")},m(c,_){C(c,t,_),z(e,t,null),b(t,i),z(r,t,null),b(t,a),d&&d.m(t,null),l=!0},p(c,[_]){const p={};_&257&&(p.$$scope={dirty:_,ctx:c}),!s&&_&2&&(s=!0,p.source=c[1],K(()=>s=!1)),!o&&_&4&&(o=!0,p.target=c[2],K(()=>o=!1)),!u&&_&1&&(u=!0,p.node=c[0],K(()=>u=!1)),e.$set(p);const M={};_&256&&(M.$$scope={dirty:_,ctx:c}),r.$set(M),c[1]&&c[2]?d?(d.p(c,_),_&6&&P(d,1)):(d=ve(c),d.c(),P(d,1),d.m(t,null)):d&&(He(),D(d,1,1,()=>{d=null}),Ie())},i(c){l||(P(e.$$.fragment,c),P(r.$$.fragment,c),P(d),l=!0)},o(c){D(e.$$.fragment,c),D(r.$$.fragment,c),D(d),l=!1},d(c){c&&v(t),F(e),F(r),d&&d.d()}}}function tt(n,t,e){let s={connections:[]},o={x:10,y:10},u,i;function r(m){o=m,e(0,o)}function a(m){u=m,e(1,u)}function l(m){i=m,e(2,i)}function f(m){o=m,e(0,o)}return[o,u,i,s,r,a,l,f]}class nt extends W{constructor(t){super();A(this,t,tt,et,V,{})}}function st(n){let t,e;return t=new nt({}),{c(){x(t.$$.fragment)},l(s){j(t.$$.fragment,s)},m(s,o){z(t,s,o),e=!0},p:Y,i(s){e||(P(t.$$.fragment,s),e=!0)},o(s){D(t.$$.fragment,s),e=!1},d(s){F(t,s)}}}class at extends W{constructor(t){super();A(this,t,null,st,V,{})}}export{at as default};
